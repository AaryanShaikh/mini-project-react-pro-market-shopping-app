(this["webpackJsonpmini-project-react-pro-market-shopping-app"]=this["webpackJsonpmini-project-react-pro-market-shopping-app"]||[]).push([[0],{29:function(t,e,s){},30:function(t,e,s){},31:function(t,e,s){},33:function(t,e,s){},52:function(t,e,s){"use strict";s.r(e);var n=s(2),c=s.n(n),a=s(11),r=s.n(a),i=(s(29),s(5)),o=s(6),l=s(8),d=s(7),j=(s(30),s(31),s(4)),u=(s(13),s(1)),h=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(){var t;return Object(i.a)(this,s),(t=e.call(this)).confirmedOrder=function(){t.setState({isConfirm:!t.state.isConfirm});var e=t.props.price*document.getElementById("quantity"+t.props.id).value,s={id:t.props.id,img:t.props.img,name:t.props.name,price:t.props.price,quantity:document.getElementById("quantity"+t.props.id).value,total:e};t.props.cart(s),j.b.info("Item added to cart!",{position:j.b.POSITION.BOTTOM_CENTER,theme:"dark"})},t.state={showDesc:!1,isConfirm:!1},t}return Object(o.a)(s,[{key:"render",value:function(){var t=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"fruit",children:[Object(u.jsx)("img",{onClick:function(){return t.setState({showDesc:!t.state.showDesc})},src:this.props.img,alt:""}),Object(u.jsx)("h2",{children:this.props.name}),Object(u.jsxs)("p",{children:["Rs.",this.props.price]}),Object(u.jsxs)("div",{className:"btns",children:[Object(u.jsx)("button",{onClick:function(){document.getElementById("quantity"+t.props.id).value=+document.getElementById("quantity"+t.props.id).value+1},children:"+"}),Object(u.jsx)("input",{type:"number",min:"1",max:"99",defaultValue:"1",id:"quantity"+this.props.id}),Object(u.jsx)("button",{onClick:function(){document.getElementById("quantity"+t.props.id).value=1===+document.getElementById("quantity"+t.props.id).value?1:+document.getElementById("quantity"+t.props.id).value-1},children:"-"})]}),Object(u.jsx)("button",{onClick:function(){return t.setState({isConfirm:!t.state.isConfirm})},children:"Add to cart"})]}),this.state.isConfirm?Object(u.jsx)("div",{className:"confirm",children:Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("p",{children:"Waiting for your confirmation!!"}),Object(u.jsxs)("div",{className:"btns",children:[Object(u.jsx)("button",{onClick:function(){return t.setState({isConfirm:!t.state.isConfirm})},children:"Cancel"}),Object(u.jsx)("button",{onClick:this.confirmedOrder,children:"Ok"})]})]})}):"",this.state.showDesc?Object(u.jsxs)("div",{className:"desc",children:[Object(u.jsx)("div",{className:"left",children:Object(u.jsx)("img",{src:this.props.img,alt:""})}),Object(u.jsxs)("div",{className:"right",children:[Object(u.jsx)("h1",{children:this.props.name}),Object(u.jsx)("p",{children:this.props.desc}),Object(u.jsx)("button",{onClick:function(){return t.setState({showDesc:!t.state.showDesc})},children:"Back"})]})]}):""]})}}]),s}(n.Component),m=(s(33),s(22)),p=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(){var t;return Object(i.a)(this,s),(t=e.call(this)).remFromCart=function(){t.setState({showCart:!t.state.showCart}),t.props.remItems([]),j.b.success("Order has been placed!",{position:j.b.POSITION.BOTTOM_CENTER,theme:"dark"})},t.state={showCart:!1,total:0},t}return Object(o.a)(s,[{key:"render",value:function(){var t=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("h1",{children:"ProMarket"}),Object(u.jsx)("span",{className:"cart-item",children:this.props.cartItems.length}),Object(u.jsx)("button",{onClick:function(){return t.setState({showCart:!t.state.showCart})},children:Object(u.jsx)(m.a,{})})]}),this.state.showCart?Object(u.jsx)("div",{className:"cart-cont",children:Object(u.jsxs)("div",{className:"cart",children:[Object(u.jsx)("h2",{children:"Cart"}),Object(u.jsx)("hr",{}),this.props.cartItems.map((function(t){return Object(u.jsxs)("div",{className:"item",children:[Object(u.jsx)("img",{src:t.img,alt:""}),Object(u.jsx)("p",{children:t.name}),Object(u.jsxs)("p",{children:["Rs.",t.price]}),Object(u.jsx)("p",{className:"quant",children:t.quantity})]},t.id)})),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{children:["Total:Rs ",0===this.props.cartItems.length?"0":this.props.cartItems.map((function(t){return t.total})).reduce((function(t,e){return t+e}))]}),Object(u.jsxs)("div",{className:"btns",children:[Object(u.jsx)("button",{onClick:function(){return t.setState({showCart:!t.state.showCart})},children:"Cancel"}),Object(u.jsx)("button",{onClick:this.remFromCart,children:"Buy now"})]})]})}):""]})}}]),s}(n.Component),b=s(24),O=s(23),f=s.n(O),x=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(){var t;return Object(i.a)(this,s),(t=e.call(this)).componentDidMount=function(){f.a.get("https://8d518112-4109-404f-9f57-b8e3c374d098.mock.pstmn.io").then((function(e){var s=["Carrot","Apple","Watermelon","Strawberry"],n=[];e.data.forEach((function(t){var e={id:t.id,name:t.name.toLowerCase(),price:t.price,desc:t.description,img:t.img,type:s.includes(t.name)?"fruit":"veg"};n.push(e)})),t.setState({marketData:n}),console.log(t.state.marketData)}))},t.addToCart=function(e){var s=t.state.cartData;s.push(e),t.setState({cartData:s}),console.log(t.state.cartData)},t.remToCart=function(e){t.setState({cartData:e})},t.state={marketData:[],type:"all",search:"",cartData:[]},t}return Object(o.a)(s,[{key:"render",value:function(){var t=this;return 0===this.state.marketData.length?Object(u.jsx)("div",{className:"load",children:Object(u.jsx)("img",{src:"https://raw.githubusercontent.com/AaryanShaikh/mini-project-react-pro-market-shopping-app/main/src/load.gif",alt:""})}):Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j.a,{}),Object(u.jsx)(p,{cartItems:this.state.cartData,remItems:this.remToCart}),Object(u.jsx)("hr",{className:"line"}),Object(u.jsxs)("div",{className:"bonus",children:[Object(u.jsxs)("div",{className:"search",children:[Object(u.jsx)("input",{type:"text",placeholder:"Search fruits or vegetables",onChange:function(e){return t.setState({search:e.target.value})}}),Object(u.jsx)(b.a,{})]}),Object(u.jsxs)("div",{className:"filters",children:[Object(u.jsx)("button",{onClick:function(){return t.setState({type:"all"})},children:"All"}),Object(u.jsx)("button",{onClick:function(){return t.setState({type:"fruit"})},children:"Fruits"}),Object(u.jsx)("button",{onClick:function(){return t.setState({type:"veg"})},children:"Vegetables"})]})]}),Object(u.jsx)("div",{className:"cont",children:Object(u.jsx)("div",{className:"fruit-cont",children:"all"===this.state.type?this.state.marketData.filter((function(e){return e.name.includes(t.state.search.toLowerCase())})).map((function(e){return Object(u.jsx)(h,{img:e.img,name:e.name,price:e.price,desc:e.desc,id:e.id,cart:t.addToCart},e.id)})):this.state.marketData.filter((function(e){return e.type===t.state.type&&e.name.includes(t.state.search.toLowerCase())})).map((function(e){return Object(u.jsx)(h,{img:e.img,name:e.name,price:e.price,desc:e.desc,id:e.id,cart:t.addToCart},e.id)}))})})]})}}]),s}(n.Component),C=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,53)).then((function(e){var s=e.getCLS,n=e.getFID,c=e.getFCP,a=e.getLCP,r=e.getTTFB;s(t),n(t),c(t),a(t),r(t)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),C()}},[[52,1,2]]]);
//# sourceMappingURL=main.5486e7fa.chunk.js.map